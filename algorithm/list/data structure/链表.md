# 链表

## 快慢指针

[linked-list-cycle-ii](https://leetcode.cn/problems/linked-list-cycle-ii/)

```java
public ListNode detectCycle(ListNode head) {
    ListNode fast = head;
    ListNode slow = head;
    fast = slow = head;
    while (fast != null && fast.next != null) {
        fast = fast.next.next;
        slow = slow.next;
        if (fast == slow) break;
    }
    // fast 遇到空指针说明没有环
    if (fast == null || fast.next == null) {
        return null;
    }
    slow = head;
    // 快慢指针同步前进，相交点就是环起点
    while (slow != fast) {
        fast = fast.next;
        slow = slow.next;
    }
    return slow;
}

```

## 链表遍历

[palindrome-linked-list](https://leetcode.cn/problems/palindrome-linked-list/)

注意：链表遍历《==》二叉树遍历

```java
public static void traverse(ListNode head) {
    if (head == null) return;
    // 前序遍历代码
    traverse(head.next);
    // 后序遍历代码
}
```

## 链表反转

[reverse-linked-list](https://leetcode.cn/problems/reverse-linked-list/)

```java
public static ListNode reverseList(ListNode head) {
    ListNode pre = null;
    ListNode cur = null;

    while (head != null) {
        cur = head;
        head = head.next;

        cur.next = pre;
        pre = cur;
        cur = head;
    }

    return pre;
}
```

## 反转指定位置链表

[reverse-linked-list-ii](https://leetcode.cn/problems/reverse-linked-list-ii/)

```java
public static ListNode reverseBetween(ListNode head, int left, int right) {
    ListNode res = new ListNode(-1, head);
    // 开始反转的前一个指针
    ListNode start = res;
    for (int i = 0; i < left - 1; i++) {
        start = start.next;
    }
    // 计数
    int count = right - left + 1;
    // 保存反转尾指针
    ListNode tail = start.next;
    // 待反转节点
    ListNode target = start.next;
    // 保存下一个节点
    ListNode next = null;
    for (int i = 0; i < count; i++) {
        next = target.next;

        target.next = start.next;
        start.next = target;
        target = next;
    }
    tail.next = next;

    return res.next;
}
```

## k个一组反转链表

[reverse-nodes-in-k-group](https://leetcode.cn/problems/reverse-nodes-in-k-group/)

```java
/**
* k个一组反转链表
*/
public static ListNode reverseKGroup(ListNode head, int k) {
    ListNode res = new ListNode(-1, head);
    ListNode start = res;
    while (start != null) {
        // 找反转组最后一个
        ListNode end = start;
        for (int i = 0; i < k; i++) {
            end = end.next;
            if (end == null) return res.next;
        }
        ListNode nextStart = start.next;

        ListNode target = nextStart;
        ListNode next = null;
        ListNode tail = end.next;
        for (int i = 0; i < k; i++) {
            next = target.next;

            target.next = tail;
            tail = target;
            target = next;
        }
        start.next = tail;
        start = nextStart;
    }
    return res.next;
}
```
